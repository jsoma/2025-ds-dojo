<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Scraping with Playwright and AI</title>
    <style>
        body {
            max-width: 800px;
            margin: 40px auto;
            margin-top: 0;
            padding: 0 20px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            font-size: 16px;
            padding-bottom: 5em;
        }
        h1 {
            margin-top: 0;
            padding: 3em 0 2em;
            text-align: center;
            font-size: 2.2em;
            color: #333;
        }
        h3, h4 { margin-top: 2em; }
        h2 {
            position: sticky;
            top: 0;
            z-index: 100;
            margin-top: 2.4em;
            margin-bottom: 0.9em;
            padding: 16px 0;
            background: transparent !important;
            border: none;
            color: white;
        }
        h2::before {
            content: "";
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 100vw;
            top: 0;
            bottom: 0;
            background: linear-gradient(120deg, #6fa8ff 0%, #a1d1ff 100%);
            border-top: 1px solid #ead8f1;
            border-bottom: 1px solid #ead8f1;
            z-index: -1;
        }
        h2:nth-of-type(1)::before { background: linear-gradient(120deg, #6fa8ff 0%, #a1d1ff 100%); }
        h2:nth-of-type(2)::before { background: linear-gradient(120deg, #7edbb6 0%, #a9f0d5 100%); }
        h2:nth-of-type(3)::before { background: linear-gradient(120deg, #ffd166 0%, #ffe6a3 100%); }
        h2:nth-of-type(4)::before { background: linear-gradient(120deg, #f78da7 0%, #fbbcd0 100%); }
        h2:nth-of-type(5)::before { background: linear-gradient(120deg, #c792ea 0%, #e1b8ff 100%); }
        h2:nth-of-type(6)::before { background: linear-gradient(120deg, #84fab0 0%, #8fd3f4 100%); }
        h2:nth-of-type(7)::before { background: linear-gradient(120deg, #ff9a9e 0%, #fecfef 100%); }
        h2:nth-of-type(8)::before { background: linear-gradient(120deg, #a18cd1 0%, #fbc2eb 100%); }
        h2:nth-of-type(9)::before { background: linear-gradient(120deg, #f6d365 0%, #fda085 100%); }
        h2:nth-of-type(10)::before { background: linear-gradient(120deg, #96e6a1 0%, #d4fc79 100%); }
        h3 a {
            text-decoration: none;
        }
        h3 a:hover {
            text-decoration: underline;
        }
        p {
            margin: 1em 0;
        }
        code { 
            background: #f4f4f4; 
            padding: 2px 4px; 
            border-radius: 3px;
            font-family: Consolas, Monaco, monospace;
        }
        pre {
            background: #f4f4f4;
            padding: 1em;
            border-radius: 5px;
            overflow-x: auto;
            position: relative;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        pre code {
            background: none;
            padding: 0;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .copy-button {
            position: absolute;
            top: 8px;
            right: 8px;
            padding: 6px 12px;
            background: #0066cc;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: background 0.2s;
            z-index: 10;
        }
        .copy-button:hover {
            background: #0052a3;
        }
        .copy-button:active {
            background: #004080;
        }
        .copy-button.copied {
            background: #28a745;
        }
        a { color: #0066cc; }
        img {
            display: block;
            max-width: 80%;
            height: auto;
            margin: 1em auto;
            border: solid 1px #999;
        }
        blockquote {
            border-left: solid lightblue 20px;
            margin-left: 4em;
            padding-left: 1em;
            color: #999;
        }
        video {
            display: block;
            max-width: 80%;
            height: auto;
            margin: 1em auto;
            border: solid 1px #999;
        }
        .download-box {
            background: #e8f4f8;
            padding: 1em;
            border-radius: 5px;
            margin: 1em 0;
        }
        ul {
            list-style-type: disc;
            padding-left: 2em;
            margin: 0.5em 0;
        }
        li {
            margin: 0.3em 0;
        }
        .section-header {
            margin-top: 2em;
            margin-bottom: 1em;
            padding-bottom: 0.5em;
            border-bottom: 2px solid #eee;
        }
        .resource-buttons {
            margin: 1em 0;
            display: flex;
            flex-wrap: wrap;
            gap: 0.5em;
        }
        .resource-button {
            display: inline-block;
            padding: 0.4em 0.8em;
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 4px;
            text-decoration: none;
            color: #333;
            font-size: 0.9em;
            transition: all 0.2s;
        }
        .resource-button:hover {
            background: #e0e0e0;
            border-color: #ccc;
        }
        .resource-button.primary {
            background: #e3f2fd;
            color: #1565c0;
            border-color: #90caf9;
        }
        .resource-button.primary:hover {
            background: #bbdefb;
            border-color: #64b5f6;
        }
        .resource-button.completed {
            background: #e8f5e9;
            color: #2e7d32;
            border-color: #a5d6a7;
        }
        .resource-button.completed:hover {
            background: #c8e6c9;
            border-color: #81c784;
        }
        .data-download {
            margin: 0.5em 0;
            font-size: 0.9em;
        }
        .download-links {
            margin: 0.5em 0;
            line-height: 1.8;
        }
        .download-links a {
            color: #1976d2;
            text-decoration: none;
        }
        .download-links a:hover {
            text-decoration: underline;
        }
        p:last {
            margin-bottom: 0;
            margin-top: 5em;
        }
    </style>
</head>
<body>
<p><a href="../index.html">← Back to main page</a></p>
<h1 id="scraping-with-playwright-and-ai">Scraping with Playwright and AI</h1>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#useful-links">Useful Links</a></li>
<li><a href="#the-prompt">The prompt</a></li>
<li><a href="#opening-the-web-inspector">Opening the web inspector</a></li>
<li><a href="#getting-the-code">Getting the code</a></li>
<li><a href="#pagination">Pagination</a></li>
<li><a href="#fixing-the-output">Fixing the output</a></li>
</ul>
<h2 id="useful-links">Useful Links</h2>
<ul>
<li><a href="https://www.national-azabu.net/products/list?category_id=52">National Azabu vegetables</a></li>
<li><a href="https://suumo.jp/chintai/tokyo/sc_chiyoda/mansion/">SUUMO rental apartments in Chiyoda</a></li>
<li><a href="https://jp.mercari.com/search?category_id=72">Mercari books</a></li>
<li><a href="https://tabelog.com/tokyo/A1310/A131002/R2080/rstLst/?SrtT=rt&amp;Srt=D&amp;sort_mode=1">Tabelog</a></li>
</ul>
<p><a href="https://playwright.dev/python/">Playwright</a> is a great library for scraping data in Python.</p>
<h1 id="guide">Guide</h1>
<h2 id="the-prompt">The prompt</h2>
<p>First, paste this custom prompt into ChatGPT, Gemini or Claude. It will walk you through the process of building a scraper.</p>
<div class="codehilite"><pre><span></span><code><span class="n">Help</span> <span class="n">me</span> <span class="nb">write</span> <span class="n">a</span> <span class="n">Python</span> <span class="n">Playwright</span> <span class="n">scraper</span> <span class="nb">to</span> <span class="n">scrape</span> <span class="n">data</span> <span class="nb">from</span> <span class="n">a</span> <span class="n">website</span> <span class="o">and</span> <span class="n">download</span> <span class="n">it</span> <span class="n">as</span> <span class="n">a</span> <span class="n">CSV</span>.  <span class="n">Proceed</span> <span class="nb">in</span> <span class="n">several</span> <span class="n">steps</span>, <span class="n">ONE</span> <span class="n">AT</span> <span class="n">A</span> <span class="n">TIME</span>. <span class="n">Do</span> <span class="nb">not</span> <span class="k">proceed</span> <span class="nb">to</span> <span class="n">the</span> <span class="nb">next</span> <span class="n">step</span> <span class="k">until</span> <span class="n">you</span> <span class="nb">get</span> <span class="n">a</span> <span class="n">satisfactory</span> <span class="n">answer</span> <span class="nb">to</span> <span class="n">the</span> <span class="n">prior</span> <span class="nb">one</span>.

<span class="mi">1</span>. <span class="n">Ask</span> <span class="n">what</span> <span class="n">the</span> <span class="n">URL</span> <span class="k">is</span>
<span class="mi">2</span>. <span class="n">Ask</span> <span class="k">if</span> <span class="n">there</span> <span class="n">are</span> <span class="nb">any</span> <span class="n">forms</span> <span class="o">or</span> <span class="n">fields</span> <span class="nb">to</span> <span class="n">be</span> <span class="n">filled</span> <span class="n">out</span>. <span class="n">This</span> <span class="n">might</span> <span class="n">include</span> <span class="n">things</span> <span class="nb">like</span> <span class="s">&quot;try every value in this dropdown&quot;</span> <span class="o">or</span> <span class="s">&quot;try every ZIP code in Maryland in this search field.&quot;</span> 
<span class="mi">3</span>. <span class="n">Confirm</span> <span class="n">the</span> <span class="n">pieces</span> <span class="n">that</span> <span class="k">need</span> <span class="nb">to</span> <span class="n">be</span> <span class="n">scraped</span> <span class="nb">from</span> <span class="n">the</span> <span class="n">page</span>. <span class="n">The</span> <span class="n">easiest</span> <span class="n">way</span> <span class="k">is</span> <span class="nb">to</span> <span class="n">just</span> <span class="n">ask</span> <span class="n">me</span> <span class="nb">to</span> <span class="nb">copy</span> <span class="n">the</span> <span class="n">HTML</span> <span class="nb">of</span> <span class="nb">one</span> <span class="nb">item</span> <span class="n">on</span> <span class="n">the</span> <span class="n">page</span>. <span class="n">Don&#39;t</span> <span class="n">confirm</span> <span class="n">columns</span> <span class="k">until</span> <span class="n">I</span> <span class="n">give</span> <span class="n">you</span> <span class="n">the</span> <span class="n">HTML</span>.
<span class="mi">4</span>. <span class="n">Confirm</span> <span class="n">pagination</span> <span class="n">details</span>.
- <span class="n">Ask</span> <span class="n">me</span> <span class="nb">how</span> <span class="n">pagination</span> <span class="n">works</span> (<span class="s">&#39;next&#39;</span> <span class="n">button</span>, <span class="n">numbered</span> <span class="n">pages</span>, <span class="nb">infinite</span> <span class="n">scroll</span>)
- <span class="n">If</span> <span class="n">it</span> <span class="k">is</span> <span class="n">buttons</span>, <span class="n">ask</span> <span class="n">me</span> <span class="nb">to</span> <span class="nb">copy</span> <span class="n">the</span> <span class="n">HTML</span> <span class="nb">of</span> <span class="n">the</span> <span class="n">pagination</span>
- <span class="n">Ask</span> <span class="k">if</span> <span class="n">we</span> <span class="n">should</span> <span class="n">scrape</span> <span class="n">the</span> <span class="nb">first</span> <span class="o">X</span> <span class="n">pages</span>, <span class="o">or</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">pages</span>
<span class="mi">5</span>. <span class="n">Write</span> <span class="n">the</span> <span class="n">guide</span>

<span class="n">If</span> <span class="n">there</span> <span class="k">is</span> <span class="n">a</span> <span class="n">form</span> <span class="n">that</span> <span class="n">needs</span> <span class="nb">to</span> <span class="n">be</span> <span class="n">filled</span> <span class="n">out</span>, <span class="n">you</span> <span class="n">may</span> <span class="k">need</span> <span class="nb">to</span> <span class="nb">get</span> <span class="n">the</span> <span class="n">HTML</span> <span class="k">for</span> <span class="n">the</span> <span class="n">entire</span> <span class="n">form</span> <span class="o">or</span> <span class="nb">parts</span> <span class="nb">of</span> <span class="n">the</span> <span class="n">form</span>. <span class="n">If</span> <span class="n">necessary</span> <span class="n">a</span> <span class="n">similar</span> <span class="n">walkthrough</span> <span class="n">as</span> <span class="n">below</span> <span class="nb">to</span> <span class="n">understand</span> <span class="n">the</span> <span class="n">HTML</span>. 

<span class="n">If</span> <span class="n">we</span> <span class="k">need</span> <span class="nb">to</span> <span class="n">provide</span> <span class="n">a</span> <span class="n">list</span> <span class="nb">of</span> <span class="n">inputs</span> - <span class="nb">zip</span> <span class="nb">codes</span>, <span class="n">names</span>, <span class="n">license</span> <span class="n">IDs</span>, <span class="n">etc</span> - <span class="n">determine</span> <span class="n">whether</span> <span class="n">they</span> <span class="n">are</span> <span class="n">coming</span> <span class="nb">from</span> <span class="n">a</span> <span class="n">dataframe</span>, <span class="o">and</span> <span class="k">if</span> <span class="nb">so</span> <span class="n">what</span> <span class="n">the</span> <span class="nb">column</span> <span class="nb">name</span> <span class="k">is</span>. <span class="n">Be</span> <span class="n">sure</span> <span class="n">you</span> <span class="n">know</span> <span class="nb">how</span> <span class="nb">to</span> <span class="n">submit</span> <span class="n">the</span> <span class="n">form</span>.

<span class="n">To</span> <span class="n">confirm</span> <span class="n">columns</span> <span class="n">details</span>, <span class="n">walk</span> <span class="n">me</span> <span class="n">through</span> <span class="nb">how</span> <span class="nb">to</span> <span class="nb">copy</span> <span class="n">the</span> <span class="n">outer</span> <span class="n">HTML</span> <span class="nb">of</span> <span class="nb">one</span> <span class="s">&quot;row&quot;</span> <span class="nb">of</span> <span class="n">data</span>. <span class="n">I&#39;m</span> <span class="nb">new</span> <span class="nb">to</span> <span class="n">scraping</span> <span class="o">and</span> <span class="n">might</span> <span class="k">need</span> <span class="n">help</span>. <span class="n">Be</span> <span class="n">patient</span>. <span class="n">When</span> <span class="n">you</span> <span class="n">ask</span> <span class="k">for</span> <span class="n">HTML</span>, <span class="n">ask</span> <span class="k">if</span> <span class="n">I</span> <span class="k">need</span> <span class="n">help</span> <span class="n">copying</span> <span class="n">it</span>. <span class="n">If</span> <span class="n">yes</span>, <span class="nb">then</span> <span class="n">provide</span> <span class="n">a</span> <span class="n">gentle</span> <span class="n">walkthrough</span>.

<span class="n">After</span> <span class="n">you</span> <span class="n">see</span> <span class="n">the</span> <span class="n">HTML</span> <span class="n">you</span> <span class="nb">can</span> <span class="n">decide</span> <span class="n">on</span> <span class="n">columns</span> <span class="nb">to</span> <span class="n">be</span> <span class="n">saved</span>, <span class="nb">then</span> <span class="n">confirm</span> <span class="n">them</span> <span class="k">with</span> <span class="n">me</span>. <span class="n">If</span> <span class="n">it</span> <span class="n">isn&#39;t</span> <span class="n">clear</span>, <span class="n">explain</span> <span class="n">what</span> <span class="n">you</span> <span class="k">need</span> <span class="nb">from</span> <span class="n">me</span>.

<span class="n">Help</span> <span class="n">me</span> <span class="n">determine</span> <span class="n">the</span> <span class="n">pagination</span> <span class="n">situation</span>. <span class="n">Are</span> <span class="n">there</span> <span class="n">multiple</span> <span class="n">pages</span> <span class="nb">of</span> <span class="n">content</span>? <span class="n">Is</span> <span class="n">there</span> <span class="n">a</span> <span class="s">&#39;next page&#39;</span> <span class="n">button</span> <span class="n">that</span> <span class="nb">can</span> <span class="n">be</span> <span class="n">pressed</span> <span class="n">again</span> <span class="o">and</span> <span class="n">again</span>? <span class="n">Do</span> <span class="n">you</span> <span class="k">need</span> <span class="nb">to</span> <span class="n">click</span> <span class="n">an</span> <span class="n">incrementing</span> <span class="n">number</span> <span class="nb">of</span> <span class="n">pages</span>? <span class="n">Have</span> <span class="n">me</span> <span class="nb">copy</span> <span class="nb">any</span> <span class="n">HTML</span> <span class="k">for</span> <span class="n">the</span> <span class="n">pagination</span> <span class="nb">so</span> <span class="n">you</span> <span class="n">know</span> <span class="nb">how</span> <span class="nb">to</span> <span class="nb">parse</span><span class="o">/</span><span class="n">interact</span> <span class="k">with</span> <span class="n">it</span> <span class="nb">to</span> <span class="n">be</span> <span class="n">sure</span> <span class="n">we</span> <span class="n">scrape</span> <span class="nb">all</span> <span class="nb">of</span> <span class="n">the</span> <span class="n">data</span>. <span class="n">Ask</span> <span class="k">if</span> <span class="nb">infinite</span> <span class="n">scroll</span> <span class="k">is</span> <span class="n">necessary</span>.

<span class="n">I</span> <span class="n">don&#39;t</span> <span class="n">really</span> <span class="n">understand</span> <span class="n">HTML</span> <span class="o">or</span> <span class="nb">how</span> <span class="n">the</span> <span class="n">web</span> <span class="n">inspector</span> <span class="n">works</span>. <span class="n">If</span> <span class="n">I</span> <span class="k">need</span> <span class="n">help</span> <span class="k">with</span> <span class="n">getting</span> <span class="n">the</span> <span class="n">HTML</span>, <span class="n">you</span> <span class="n">should</span> <span class="n">ask</span> <span class="n">what</span> <span class="n">browser</span> <span class="n">I&#39;m</span> <span class="n">using:</span> <span class="k">my</span> <span class="n">browser</span> <span class="n">might</span> <span class="n">be</span> <span class="n">Edge</span>, <span class="n">Chrome</span>, <span class="o">or</span> <span class="n">Safari</span>.

<span class="n">Since</span> <span class="n">I</span> <span class="n">will</span> <span class="n">be</span> <span class="n">doing</span> <span class="n">this</span> <span class="nb">in</span> <span class="n">a</span> <span class="n">notebook</span> <span class="n">on</span> <span class="n">Colab</span>, <span class="n">I</span> <span class="k">need</span> <span class="n">you</span> <span class="nb">to</span> <span class="n">provide</span> <span class="n">the</span> <span class="nb">code</span> <span class="nb">to</span> <span class="n">me</span> <span class="nb">in</span> <span class="n">appropriate-sized</span> <span class="nb">chunks</span>, <span class="nb">one</span> <span class="n">cell</span> <span class="nb">at</span> <span class="n">a</span> <span class="n">time</span>. <span class="n">Do</span> <span class="nb">not</span> <span class="n">provide</span> <span class="n">a</span> <span class="n">large</span> <span class="n">dump</span> <span class="nb">of</span> <span class="nb">all</span> <span class="nb">of</span> <span class="n">the</span> <span class="nb">code</span> <span class="nb">at</span> <span class="n">once</span>.

<span class="n">I</span> <span class="n">am</span> <span class="n">easily</span> <span class="n">intimidated</span> <span class="n">by</span> <span class="n">lots</span> <span class="nb">of</span> <span class="n">questions</span> <span class="nb">of</span> <span class="n">technical</span> <span class="n">issues</span>. <span class="n">Please</span> <span class="k">try</span> <span class="nb">to</span> <span class="n">be</span> <span class="n">patient</span> <span class="o">and</span> <span class="n">simple</span> <span class="k">with</span> <span class="n">me</span>. <span class="n">If</span> <span class="n">you</span> <span class="k">need</span> <span class="n">something</span> <span class="nb">from</span> <span class="n">me</span>, <span class="n">ask</span> <span class="nb">one</span> <span class="o">or</span> <span class="n">two</span> <span class="n">questions</span> <span class="nb">at</span> <span class="n">a</span> <span class="n">time</span>, <span class="nb">not</span> <span class="n">a</span> <span class="n">barrage</span>. <span class="n">Examples</span> <span class="n">are</span> <span class="n">helpful</span>.

<span class="n">Remember</span> <span class="n">that</span> <span class="n">we</span> <span class="n">are</span> <span class="nb">in</span> <span class="n">a</span> <span class="n">Colab</span> <span class="n">notebook</span>, <span class="nb">so</span> <span class="n">there</span> <span class="n">are</span> <span class="n">special</span> <span class="n">considerations</span> <span class="k">when</span> <span class="n">using</span> <span class="n">Playwright</span> – <span class="k">for</span> <span class="n">example</span>, <span class="n">using</span> <span class="nb">await</span><span class="o">/</span><span class="n">async</span><span class="o">/</span><span class="n">nested</span> <span class="n">async</span>. <span class="n">You</span> <span class="n">will</span> <span class="k">need</span> <span class="nb">to</span> <span class="n">install</span> <span class="n">both</span> <span class="n">playwright</span> <span class="o">and</span> <span class="n">the</span> <span class="n">browser</span>. <span class="n">Use</span> <span class="n">Firefox</span> <span class="nb">instead</span> <span class="nb">of</span> <span class="n">Chromium</span>. <span class="n">Use</span> <span class="n">networkidle</span> <span class="nb">to</span> <span class="n">ensure</span> <span class="n">the</span> <span class="n">page</span> <span class="k">has</span> <span class="n">fully</span> <span class="n">loaded</span>.

<span class="n">Use</span> <span class="n">Playwright</span> <span class="k">for</span> <span class="n">accessing</span> <span class="o">and</span> <span class="n">interacting</span> <span class="k">with</span> <span class="n">the</span> <span class="n">page</span>, <span class="k">but</span> <span class="nb">then</span> <span class="nb">push</span> <span class="n">the</span> <span class="n">loaded</span> <span class="nb">source</span> <span class="n">into</span> <span class="n">BeautifulSoup</span> <span class="nb">in</span> <span class="n">the</span> <span class="n">interests</span> <span class="nb">of</span> <span class="n">processing</span> <span class="n">time</span>.

<span class="n">Take</span> <span class="n">a</span> <span class="n">screenshot</span> <span class="nb">of</span> <span class="n">the</span> <span class="n">page</span> <span class="nb">to</span> <span class="n">display</span> <span class="nb">in</span> <span class="n">the</span> <span class="n">notebook</span> <span class="k">when</span> <span class="n">the</span> <span class="n">page</span> <span class="n">loads</span>. <span class="n">That</span> <span class="k">is</span> <span class="n">always</span> <span class="n">fun</span>!

<span class="n">Use</span> <span class="n">progress</span> <span class="n">bars</span> <span class="o">and</span> <span class="n">notifications</span> <span class="n">as</span> <span class="n">we</span> <span class="n">iterate</span> <span class="n">through</span> <span class="n">pages</span>, <span class="o">and</span> <span class="n">provide</span> <span class="n">helpful</span> <span class="n">visual</span> <span class="n">feedback</span> <span class="n">as</span> <span class="n">the</span> <span class="n">page</span>(<span class="nb">s</span>) <span class="n">are</span> <span class="n">scraped</span>.

<span class="n">Only</span> <span class="n">ask</span> <span class="n">ONE</span> <span class="n">question</span> <span class="nb">at</span> <span class="n">a</span> <span class="n">time</span>. <span class="n">I&#39;m</span> <span class="n">easily</span> <span class="n">overwhelmed</span>.

<span class="n">In</span> <span class="n">the</span> <span class="nb">last</span> <span class="n">step</span>, <span class="n">we</span> <span class="n">should</span> <span class="n">preview</span> <span class="n">the</span> <span class="n">results</span> <span class="o">and</span> <span class="n">download</span> <span class="n">them</span> <span class="nb">to</span> <span class="k">my</span> <span class="n">computer</span> (<span class="nb">from</span> <span class="n">Colab</span>).
</code></pre></div>

<h2 id="opening-the-web-inspector">Opening the web inspector</h2>
<p>Next, ChatGPT will ask you to explain the HTML of your "row" of data. Right-click (or command-click) to bring up the menu, then select <strong>Inspect</strong> (<strong>検証</strong> in Japanese Chrome). It might be slightly different if you aren't using Chrome!</p>
<p><img alt="" src="images/click-inspect.png" /></p>
<h3 id="using-the-web-inspector">Using the web inspector</h3>
<p>Move your mouse around on the code on the right.</p>
<video autoplay muted loop>
  <source src="finding-divs-resized.mov" type="video/mp4">
  Your browser does not support the video tag.
</video>

<p>Or click the 'select' button and click what you are interested in</p>
<video autoplay muted loop>
  <source src="clicking-resized.mov" type="video/mp4">
  Your browser does not support the video tag.
</video>

<p>Move as high up as possible on the right while still only selecting the area you want.</p>
<h2 id="getting-the-code">Getting the code</h2>
<p>To get the HTML code for part of the page, first find it using the Web Inspector. Then <strong>right click, Copy, Copy outerHTML.</strong> You will paste this into ChatGPT to help write your scraper.</p>
<p><img alt="" src="images/select-outerhtml.png" /></p>
<h2 id="pagination">Pagination</h2>
<p>For the next step, repeat the process above to get the HTML code for the <strong>pagination</strong> area. This will teach ChatGPT how to use "next" buttons.</p>
<h2 id="fixing-the-output">Fixing the output</h2>
<p>The code that ChatGPT produces is <strong>sometimes a little wrong</strong> so don't feel bad if you get an error. It is better than last year, though!</p>
<p><strong>After two errors, just start from the beginning in a new chat.</strong> There are many ways to write Playwright scraping code and starting from zero might be best.</p>

<script>
(function() {
  try {
    // Make all links open in new tab
    var links = document.querySelectorAll('a[href]');
    links.forEach(function(a){
      if (!a.getAttribute('target')) { a.setAttribute('target', '_blank'); }
      var rel = a.getAttribute('rel') || '';
      if (!/noopener/.test(rel)) {
        a.setAttribute('rel', (rel + ' noopener noreferrer').trim());
      }
    });

    // Add copy buttons to all code blocks
    var codeBlocks = document.querySelectorAll('pre');
    codeBlocks.forEach(function(pre) {
      var button = document.createElement('button');
      button.className = 'copy-button';
      button.textContent = 'Copy';
      button.addEventListener('click', function() {
        var code = pre.querySelector('code') || pre;
        var text = code.textContent;
        navigator.clipboard.writeText(text).then(function() {
          button.textContent = 'Copied!';
          button.classList.add('copied');
          setTimeout(function() {
            button.textContent = 'Copy';
            button.classList.remove('copied');
          }, 2000);
        }).catch(function(err) {
          console.error('Failed to copy:', err);
        });
      });
      pre.appendChild(button);
    });
  } catch (e) { /* no-op */ }
})();
</script>

</body>
</html>